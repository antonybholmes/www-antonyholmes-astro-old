---
import ContentDiv from "../components/ContentDiv.astro"
import type ICrumbProps from "../interfaces/crumb-props"
import type ILayoutProps from "../interfaces/layout-props"
import createCrumbs from "../lib/create-crumbs"
import DefaultLayout from "./DefaultLayout.astro"
import LayoutTitles from "./layout-titles"

export interface Props extends ILayoutProps, ICrumbProps {}

let {
  title,
  showTitle = false,
  showCrumbs = true,
  superTitle,
  subTitle,
  tab,
  crumbs,
} = Astro.props

if (!crumbs) {
  crumbs = createCrumbs(Astro.url.pathname)
}
---

<DefaultLayout title={title} tab={tab}>
  <ContentDiv slot="main" className="mt-24">
    <div slot="main">
      <LayoutTitles
        title={title}
        superTitle={superTitle}
        subTitle={subTitle}
        crumbs={crumbs}
        showTitle={showTitle}
        showCrumbs={showCrumbs}
      />

      <slot name="main" slot="main" />
    </div>
  </ContentDiv>
</DefaultLayout>
